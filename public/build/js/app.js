!function(){"use strict";angular.module("contactsApp",["ui.bootstrap"])}(),function(){"use strict";angular.module("contactsApp").controller("ContactsController",["$http","ContactsService",function(t,e){var n=this;n.contacts=[],n.firstName="",n.lastName="",n.email="",n.phone="",n.displayContacts=function(){t.get("get-contacts").then(function(t){n.contacts=t.data,_.each(n.contacts,function(t){t.intrash=!!+t.intrash}),e.contacts=n.contacts},function(t){alert("There was an error retrieving contacts.")})},n.displayContacts(),n.addContact=function(){t.post("save-contact",{first_name:n.firstName,last_name:n.lastName,email:n.email,phone:n.phone}).then(function(t){n.displayContacts(),n.firstName="",n.lastName="",n.email="",n.phone=""},function(t){alert.log("There was an error saving the contact.",t)})},n.toggleContactInTrash=function(e){e.intrash=!e.intrash,t.post("soft-delete",{id:e.id}).then(function(t){},function(t){alert("There was an error storing the 'intrash' state of "+e.first_name),console.log(t)})}}])}(),function(){"use strict";angular.module("contactsApp").service("ContactsService",["$http",function(t){var e=this;e.contacts=[],e["delete"]=function(e){t.post("delete-contacts",{}).then(function(t){console.log("Selected contacts successfully deleted"),console.log(t)},function(t){alert("There was an error deleting the selected contacts")})}}])}(),function(){"use strict";angular.module("contactsApp").controller("TrashModalController",["ContactsService","$http",function(t,e){var n=this;n.toggleSelectAll=function(){_.each(t.contacts,function(t){t.selected=!t.selected})},n.deleteSelected=function(){console.log("delete selected called");var e=[];_.each(t.contacts,function(t){t.selected&&(console.log("permanently deleting "+t.first_name+" "+t.last_name),e.push(t))}),e.length>0&&(t["delete"](e),_.each(e,function(t){t.intrash=!1}))}}])}(),function(){"use strict"}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RzYXBwLm1vZHVsZS5qcyIsImNvbnRhY3RzL2NvbnRhY3RzLmNvbnRyb2xsZXIuanMiLCJjb250YWN0cy9jb250YWN0cy5zZXJ2aWNlLmpzIiwiY29udGFjdHMvdHJhc2htb2RhbC5jb250cm9sbGVyLmpzIiwiY29udGFjdF9saXN0cy9jb250YWN0Lmxpc3RzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkaHR0cCIsIkNvbnRhY3RzU2VydmljZSIsInZtIiwidGhpcyIsImNvbnRhY3RzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBob25lIiwiZGlzcGxheUNvbnRhY3RzIiwiZ2V0IiwidGhlbiIsInJlcyIsImRhdGEiLCJfIiwiZWFjaCIsImNvbnRhY3QiLCJpbnRyYXNoIiwiYWxlcnQiLCJhZGRDb250YWN0IiwicG9zdCIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJsb2ciLCJ0b2dnbGVDb250YWN0SW5UcmFzaCIsImlkIiwiY29uc29sZSIsInNlcnZpY2UiLCJ0b2dnbGVTZWxlY3RBbGwiLCJzZWxlY3RlZCIsImRlbGV0ZVNlbGVjdGVkIiwiY29udGFjdHNUb0RlbGV0ZSIsInB1c2giLCJsZW5ndGgiLCJkZWxldGVkIl0sIm1hcHBpbmdzIjoiQ0FJQSxXQUVBLFlBRUFBLFNBQUFDLE9BQUEsZUFBQSxvQkNKQSxXQUVBLFlBRUFELFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxzQkFBQSxRQUFBLGtCQUFBLFNBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQUMsSUFHQUQsR0FBQUUsWUFHQUYsRUFBQUcsVUFBQSxHQUNBSCxFQUFBSSxTQUFBLEdBQ0FKLEVBQUFLLE1BQUEsR0FDQUwsRUFBQU0sTUFBQSxHQUVBTixFQUFBTyxnQkFBQSxXQUVBVCxFQUFBVSxJQUFBLGdCQUNBQyxLQUFBLFNBQUFDLEdBRUFWLEVBQUFFLFNBQUFRLEVBQUFDLEtBR0FDLEVBQUFDLEtBQUFiLEVBQUFFLFNBQUEsU0FBQVksR0FDQUEsRUFBQUMsV0FBQUQsRUFBQUMsVUFHQWhCLEVBQUFHLFNBQUFGLEVBQUFFLFVBRUEsU0FBQVEsR0FDQU0sTUFBQSw4Q0FLQWhCLEVBQUFPLGtCQUlBUCxFQUFBaUIsV0FBQSxXQUVBbkIsRUFBQW9CLEtBQUEsZ0JBRUFDLFdBQUFuQixFQUFBRyxVQUNBaUIsVUFBQXBCLEVBQUFJLFNBQ0FDLE1BQUFMLEVBQUFLLE1BQ0FDLE1BQUFOLEVBQUFNLFFBR0FHLEtBQUEsU0FBQUMsR0FDQVYsRUFBQU8sa0JBRUFQLEVBQUFHLFVBQUEsR0FDQUgsRUFBQUksU0FBQSxHQUNBSixFQUFBSyxNQUFBLEdBQ0FMLEVBQUFNLE1BQUEsSUFFQSxTQUFBSSxHQUNBTSxNQUFBSyxJQUFBLHlDQUFBWCxNQUtBVixFQUFBc0IscUJBQUEsU0FBQVIsR0FFQUEsRUFBQUMsU0FBQUQsRUFBQSxRQUVBaEIsRUFBQW9CLEtBQUEsZUFBQUssR0FBQVQsRUFBQVMsS0FFQWQsS0FBQSxTQUFBQyxLQUVBLFNBQUFBLEdBQ0FNLE1BQUEscURBQUFGLEVBQUFLLFlBQ0FLLFFBQUFILElBQUFYLFlDNUVBLFdBRUEsWUFHQWYsU0FBQUMsT0FBQSxlQUNBNkIsUUFBQSxtQkFBQSxRQUFBLFNBQUEzQixHQUVBLEdBQUFFLEdBQUFDLElBRUFELEdBQUFFLFlBRUFGLEVBQUFBLFVBQUEsU0FBQUUsR0FFQUosRUFBQW9CLEtBQUEsc0JBQ0FULEtBQUEsU0FBQUMsR0FDQWMsUUFBQUgsSUFBQSwwQ0FDQUcsUUFBQUgsSUFBQVgsSUFFQSxTQUFBQSxHQUNBTSxNQUFBLDhEQ3ZCQSxXQUVBLFlBRUFyQixTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsd0JBQUEsa0JBQUEsUUFBQSxTQUFBRSxFQUFBRCxHQUVBLEdBQUFFLEdBQUFDLElBRUFELEdBQUEwQixnQkFBQSxXQUNBZCxFQUFBQyxLQUFBZCxFQUFBRyxTQUFBLFNBQUFZLEdBQ0FBLEVBQUFhLFVBQUFiLEVBQUEsWUFJQWQsRUFBQTRCLGVBQUEsV0FDQUosUUFBQUgsSUFBQSx5QkFDQSxJQUFBUSxLQUNBakIsR0FBQUMsS0FBQWQsRUFBQUcsU0FBQSxTQUFBWSxHQUNBQSxFQUFBYSxXQUNBSCxRQUFBSCxJQUFBLHdCQUFBUCxFQUFBSyxXQUFBLElBQUFMLEVBQUFNLFdBQ0FTLEVBQUFDLEtBQUFoQixNQUtBZSxFQUFBRSxPQUFBLElBRUFoQyxFQUFBQSxVQUFBOEIsR0FHQWpCLEVBQUFDLEtBQUFnQixFQUFBLFNBQUFHLEdBQ0FBLEVBQUFqQixTQUFBLFlDN0JBLFdBRUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTmVpbCBTdHJhaW4gb24gMy8xNC8yMDE2LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjb250YWN0c0FwcCcsIFsndWkuYm9vdHN0cmFwJ10pO1xyXG5cclxuXHJcbn0oKSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpvcmRhbiBNYXZyb2dlb3JnZSBvbiAzLzE0LzIwMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRhY3RzQXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignQ29udGFjdHNDb250cm9sbGVyJywgZnVuY3Rpb24gKCRodHRwLCBDb250YWN0c1NlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyBFbXB0eSBsaXN0cyB0byBob2xkIGFsbCBjb250YWN0cy5cclxuICAgICAgICAgICAgdm0uY29udGFjdHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByb3BlcnRpZXMgdG8gc3RvcmUgdmFsdWVzIGZyb20gbmV3IHVzZXIgZm9ybS5cclxuICAgICAgICAgICAgdm0uZmlyc3ROYW1lID0gJyc7XHJcbiAgICAgICAgICAgIHZtLmxhc3ROYW1lID0gJyc7XHJcbiAgICAgICAgICAgIHZtLmVtYWlsID0gJyc7XHJcbiAgICAgICAgICAgIHZtLnBob25lID0gJyc7XHJcblxyXG4gICAgICAgICAgICB2bS5kaXNwbGF5Q29udGFjdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCdnZXQtY29udGFjdHMnKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvbnRhY3RzID0gcmVzLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb250YWN0LmludHJhc2ggc2hvdWxkIGJlIGJvb2xlYW4gdmFsdWUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaCh2bS5jb250YWN0cywgZnVuY3Rpb24gKGNvbnRhY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QuaW50cmFzaCA9ICEhK2NvbnRhY3QuaW50cmFzaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDb250YWN0c1NlcnZpY2UuY29udGFjdHMgPSB2bS5jb250YWN0cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciByZXRyaWV2aW5nIGNvbnRhY3RzLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzcGxheSBhbGwgY3VycmVudCBjb250YWN0cyBpbiB0aGUgZGF0YWJhc2Ugd2hlbiBwYWdlIGlzIGxvYWRlZC5cclxuICAgICAgICAgICAgdm0uZGlzcGxheUNvbnRhY3RzKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIG5ldyBjb250YWN0cy5cclxuICAgICAgICAgICAgdm0uYWRkQ29udGFjdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCdzYXZlLWNvbnRhY3QnLCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IHZtLmZpcnN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHZtLmxhc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBwaG9uZTogdm0ucGhvbmVcclxuXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2sgKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5kaXNwbGF5Q29udGFjdHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmZpcnN0TmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5sYXN0TmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5lbWFpbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5waG9uZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubG9nKCdUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIHRoZSBjb250YWN0LicsIHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdm0udG9nZ2xlQ29udGFjdEluVHJhc2ggPSBmdW5jdGlvbihjb250YWN0KXtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWN0LmludHJhc2ggPSAhKGNvbnRhY3QuaW50cmFzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnc29mdC1kZWxldGUnLCB7aWQ6IGNvbnRhY3QuaWR9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3Igc3RvcmluZyB0aGUgXFwnaW50cmFzaFxcJyBzdGF0ZSBvZiAnICsgY29udGFjdC5maXJzdF9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG59KCkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBOZWlsIFN0cmFpbiBvbiAzLzE2LzIwMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLy8gVE9ETzogcHJvYmFibHkgbW92ZSBzb21lIGZ1bmN0aW9ucyBmcm9tIENvbnRhY3RzQ29udHJvbGxlciB0byBoZXJlLlxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRhY3RzQXBwJylcclxuICAgICAgICAuc2VydmljZSgnQ29udGFjdHNTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdm0uY29udGFjdHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZtLmRlbGV0ZSA9IGZ1bmN0aW9uIChjb250YWN0cykge1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJ2RlbGV0ZS1jb250YWN0cycsIHt9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBjb250YWN0cyBzdWNjZXNzZnVsbHkgZGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciBkZWxldGluZyB0aGUgc2VsZWN0ZWQgY29udGFjdHMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG59KCkpO1xyXG4iLCJcclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRhY3RzQXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignVHJhc2hNb2RhbENvbnRyb2xsZXInLCBmdW5jdGlvbiAoQ29udGFjdHNTZXJ2aWNlLCAkaHR0cCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZtLnRvZ2dsZVNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChDb250YWN0c1NlcnZpY2UuY29udGFjdHMsIGZ1bmN0aW9uIChjb250YWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC5zZWxlY3RlZCA9ICEoY29udGFjdC5zZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmRlbGV0ZVNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBzZWxlY3RlZCBjYWxsZWQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250YWN0c1RvRGVsZXRlID0gW107XHJcbiAgICAgICAgICAgICAgICBfLmVhY2goQ29udGFjdHNTZXJ2aWNlLmNvbnRhY3RzLCBmdW5jdGlvbiAoY29udGFjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwZXJtYW5lbnRseSBkZWxldGluZyAnICsgY29udGFjdC5maXJzdF9uYW1lICsgJyAnICsgY29udGFjdC5sYXN0X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0c1RvRGVsZXRlLnB1c2goY29udGFjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25uZWN0IHdpdGggbHVtZW4gaWYgdGhlcmUgYXJlIGNvbnRhY3RzIHRvIGRlbGV0ZS5cclxuICAgICAgICAgICAgICAgIGlmIChjb250YWN0c1RvRGVsZXRlLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgQ29udGFjdHNTZXJ2aWNlLmRlbGV0ZShjb250YWN0c1RvRGVsZXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZpZXcgdG8gcmVtb3ZlIGRlbGV0ZWQgY29udGFjdHMuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGNvbnRhY3RzVG9EZWxldGUsIGZ1bmN0aW9uIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQuaW50cmFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9KTtcclxufSgpKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTmVpbCBTdHJhaW4gb24gMy8xNC8yMDE2LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
