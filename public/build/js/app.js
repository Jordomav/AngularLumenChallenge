!function(){"use strict";angular.module("contactsApp",[])}(),function(){"use strict";angular.module("contactsApp").controller("ContactsController",["$http","ContactsService",function(t,n){var e=this;e.contacts=[],e.contactLists=[],e.firstNameInput="",e.lastNameInput="",e.emailInput="",e.phoneInput="",e.belongsToListIds=[],e.displayContacts=function(){var t=n.getContacts();t.then(function(t){e.contacts=t.data,_.each(e.contacts,function(t){t.intrash=!!+t.intrash})},function(t){alert("There was an error retrieving Contacts"),console.log(t)})},e.displayContacts(),e.addContact=function(){var t=e.newContactData(),o=n.save(t);o.then(function(t){e.displayContacts(),e.resetForm()},function(t){alert("There was a problem saving the Contact"),console.log(t)})},e.toggleContactInTrash=function(n){n.intrash=!n.intrash,t.post("soft-delete",{id:n.id}).then(function(t){},function(t){alert("There was an error storing the 'intrash' state of "+n.first_name)})},e.newContactData=function(){return{first_name:e.firstNameInput,last_name:e.lastNameInput,email:e.emailInput,phone:e.phoneInput,lists:e.belongsToListIds}},e.resetForm=function(){e.firstNameInput="",e.lastNameInput="",e.emailInput="",e.phoneInput="",e.listsForNewContact=[]},t.get("get-contact-lists").then(function(t){e.contactLists=t.data},function(){alert("There was an error retrieving Contact Lists")})}])}(),function(){"use strict";angular.module("contactsApp").service("ContactsService",["$http",function(t){var n=this;n.contacts=[],n.getContacts=function(){return t.get("get-contacts")},n.save=function(n){return t.post("save-contact",n)},n["delete"]=function(n){t.post("delete-contacts",{}).then(function(t){},function(){alert("There was an error deleting the selected contacts")})}}])}(),function(){"use strict";angular.module("contactsApp").controller("TrashModalController",["ContactsService","$http",function(t,n){var e=this;e.deleteContacts=function(){console.log("delete selected called"),t.contacts.length>0&&(t["delete"](t.contacts),_.each(t.contacts,function(t){t.intrash&&(t.deleted=!0,t.intrash=!1)}))}}])}(),function(){"use strict";angular.module("contactsApp").controller("ContactListsController",["$http",function(t){}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RzYXBwLm1vZHVsZS5qcyIsImNvbnRhY3RzL2NvbnRhY3RzLmNvbnRyb2xsZXIuanMiLCJjb250YWN0cy9jb250YWN0cy5zZXJ2aWNlLmpzIiwiY29udGFjdHMvdHJhc2htb2RhbC5jb250cm9sbGVyLmpzIiwiY29udGFjdF9saXN0cy9jb250YWN0Lmxpc3RzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkaHR0cCIsIkNvbnRhY3RzU2VydmljZSIsInZtIiwidGhpcyIsImNvbnRhY3RzIiwiY29udGFjdExpc3RzIiwiZmlyc3ROYW1lSW5wdXQiLCJsYXN0TmFtZUlucHV0IiwiZW1haWxJbnB1dCIsInBob25lSW5wdXQiLCJiZWxvbmdzVG9MaXN0SWRzIiwiZGlzcGxheUNvbnRhY3RzIiwicHJvbWlzZSIsImdldENvbnRhY3RzIiwidGhlbiIsImRhdGEiLCJfIiwiZWFjaCIsImNvbnRhY3QiLCJpbnRyYXNoIiwiZXJyIiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwiYWRkQ29udGFjdCIsIm5ld0NvbnRhY3REYXRhIiwic2F2ZSIsInJlcyIsInJlc2V0Rm9ybSIsInRvZ2dsZUNvbnRhY3RJblRyYXNoIiwicG9zdCIsImlkIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImVtYWlsIiwicGhvbmUiLCJsaXN0cyIsImxpc3RzRm9yTmV3Q29udGFjdCIsImdldCIsInNlcnZpY2UiLCJkZWxldGVDb250YWN0cyIsImxlbmd0aCIsImRlbGV0ZWQiXSwibWFwcGluZ3MiOiJDQUlBLFdBRUEsWUFFQUEsU0FBQUMsT0FBQSxxQkNKQSxXQUVBLFlBRUFELFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxzQkFBQSxRQUFBLGtCQUFBLFNBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQUMsSUFPQUQsR0FBQUUsWUFHQUYsRUFBQUcsZ0JBR0FILEVBQUFJLGVBQUEsR0FDQUosRUFBQUssY0FBQSxHQUNBTCxFQUFBTSxXQUFBLEdBQ0FOLEVBQUFPLFdBQUEsR0FDQVAsRUFBQVEsb0JBTUFSLEVBQUFTLGdCQUFBLFdBRUEsR0FBQUMsR0FBQVgsRUFBQVksYUFFQUQsR0FBQUUsS0FBQSxTQUFBVixHQUNBRixFQUFBRSxTQUFBQSxFQUFBVyxLQUlBQyxFQUFBQyxLQUFBZixFQUFBRSxTQUFBLFNBQUFjLEdBQ0FBLEVBQUFDLFdBQUFELEVBQUFDLFdBR0EsU0FBQUMsR0FDQUMsTUFBQSwwQ0FDQUMsUUFBQUMsSUFBQUgsTUFLQWxCLEVBQUFTLGtCQUdBVCxFQUFBc0IsV0FBQSxXQUVBLEdBQUFOLEdBQUFoQixFQUFBdUIsaUJBQ0FiLEVBQUFYLEVBQUF5QixLQUFBUixFQUVBTixHQUFBRSxLQUFBLFNBQUFhLEdBQ0F6QixFQUFBUyxrQkFDQVQsRUFBQTBCLGFBRUEsU0FBQVIsR0FDQUMsTUFBQSwwQ0FDQUMsUUFBQUMsSUFBQUgsTUFLQWxCLEVBQUEyQixxQkFBQSxTQUFBWCxHQUVBQSxFQUFBQyxTQUFBRCxFQUFBLFFBRUFsQixFQUFBOEIsS0FBQSxlQUFBQyxHQUFBYixFQUFBYSxLQUVBakIsS0FBQSxTQUFBYSxLQUVBLFNBQUFBLEdBQ0FOLE1BQUEscURBQUFILEVBQUFjLGVBSUE5QixFQUFBdUIsZUFBQSxXQUNBLE9BQ0FPLFdBQUE5QixFQUFBSSxlQUNBMkIsVUFBQS9CLEVBQUFLLGNBQ0EyQixNQUFBaEMsRUFBQU0sV0FDQTJCLE1BQUFqQyxFQUFBTyxXQUNBMkIsTUFBQWxDLEVBQUFRLG1CQUlBUixFQUFBMEIsVUFBQSxXQUNBMUIsRUFBQUksZUFBQSxHQUNBSixFQUFBSyxjQUFBLEdBQ0FMLEVBQUFNLFdBQUEsR0FDQU4sRUFBQU8sV0FBQSxHQUNBUCxFQUFBbUMsdUJBUUFyQyxFQUFBc0MsSUFBQSxxQkFDQXhCLEtBQUEsU0FBQWEsR0FDQXpCLEVBQUFHLGFBQUFzQixFQUFBWixNQUdBLFdBQ0FNLE1BQUEsdURDL0dBLFdBRUEsWUFHQXhCLFNBQUFDLE9BQUEsZUFDQXlDLFFBQUEsbUJBQUEsUUFBQSxTQUFBdkMsR0FFQSxHQUFBRSxHQUFBQyxJQUVBRCxHQUFBRSxZQUdBRixFQUFBVyxZQUFBLFdBRUEsTUFBQWIsR0FBQXNDLElBQUEsaUJBSUFwQyxFQUFBd0IsS0FBQSxTQUFBUixHQUVBLE1BQUFsQixHQUFBOEIsS0FBQSxlQUFBWixJQUtBaEIsRUFBQUEsVUFBQSxTQUFBRSxHQUVBSixFQUFBOEIsS0FBQSxzQkFDQWhCLEtBQUEsU0FBQWEsS0FFQSxXQUNBTixNQUFBLDhEQ25DQSxXQUVBLFlBRUF4QixTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsd0JBQUEsa0JBQUEsUUFBQSxTQUFBRSxFQUFBRCxHQUVBLEdBQUFFLEdBQUFDLElBRUFELEdBQUFzQyxlQUFBLFdBQ0FsQixRQUFBQyxJQUFBLDBCQUdBdEIsRUFBQUcsU0FBQXFDLE9BQUEsSUFFQXhDLEVBQUFBLFVBQUFBLEVBQUFHLFVBR0FZLEVBQUFDLEtBQUFoQixFQUFBRyxTQUFBLFNBQUFjLEdBQ0FBLEVBQUFDLFVBQ0FELEVBQUF3QixTQUFBLEVBQ0F4QixFQUFBQyxTQUFBLGFDbEJBLFdBRUEsWUFFQXRCLFNBQUFDLE9BQUEsZUFDQUMsV0FBQSwwQkFBQSxRQUFBLFNBQUFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDMvMTQvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29udGFjdHNBcHAnLCBbXSk7XHJcblxyXG5cclxufSgpKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSm9yZGFuIE1hdnJvZ2VvcmdlIG9uIDMvMTQvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29udGFjdHNBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDb250YWN0c0NvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsIENvbnRhY3RzU2VydmljZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDb250YWN0IFZhcmlhYmxlcy9Qcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgLy8gRW1wdHkgbGlzdHMgdG8gaG9sZCBhbGwgQ29udGFjdHMuXHJcbiAgICAgICAgICAgIHZtLmNvbnRhY3RzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBNYXN0ZXIgbGlzdCB0byBob2xkIGFsbCBhdmFpbGFibGUgQ29udGFjdCBMaXN0c1xyXG4gICAgICAgICAgICB2bS5jb250YWN0TGlzdHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByb3BlcnRpZXMgdG8gc3RvcmUgdmFsdWVzIGZyb20gbmV3IENvbnRhY3QgZm9ybS5cclxuICAgICAgICAgICAgdm0uZmlyc3ROYW1lSW5wdXQgPSAnJztcclxuICAgICAgICAgICAgdm0ubGFzdE5hbWVJbnB1dCA9ICcnO1xyXG4gICAgICAgICAgICB2bS5lbWFpbElucHV0ID0gJyc7XHJcbiAgICAgICAgICAgIHZtLnBob25lSW5wdXQgPSAnJztcclxuICAgICAgICAgICAgdm0uYmVsb25nc1RvTGlzdElkcyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiAgQ29udGFjdCBNZXRob2RzXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2bS5kaXNwbGF5Q29udGFjdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBDb250YWN0c1NlcnZpY2UuZ2V0Q29udGFjdHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oIGZ1bmN0aW9uIGNvbXBsZXRlKGNvbnRhY3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uY29udGFjdHMgPSBjb250YWN0cy5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb250YWN0LmludHJhc2ggcHJvcGVydHkgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBKUyBib29sZWFuIHZhbHVlcyBmb3Igbmctc2hvdy9oaWRlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNRTGl0ZSBzdG9yZXMgc3RyaW5ncyAnMCcgYW5kICcxJyBmb3IgYm9vbGVhbnMuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHZtLmNvbnRhY3RzLCBmdW5jdGlvbiAoY29udGFjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0LmludHJhc2ggPSAhIStjb250YWN0LmludHJhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciByZXRyaWV2aW5nIENvbnRhY3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBEaXNwbGF5IENvbnRhY3RzIHdoZW4gYXBwbGljYXRpb24gc3RhcnRzLlxyXG4gICAgICAgICAgICB2bS5kaXNwbGF5Q29udGFjdHMoKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2bS5hZGRDb250YWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IHZtLm5ld0NvbnRhY3REYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IENvbnRhY3RzU2VydmljZS5zYXZlKGNvbnRhY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbiggZnVuY3Rpb24gY29tcGxldGUocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZGlzcGxheUNvbnRhY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVzZXRGb3JtKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhIHByb2JsZW0gc2F2aW5nIHRoZSBDb250YWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdm0udG9nZ2xlQ29udGFjdEluVHJhc2ggPSBmdW5jdGlvbihjb250YWN0KXtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWN0LmludHJhc2ggPSAhKGNvbnRhY3QuaW50cmFzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnc29mdC1kZWxldGUnLCB7aWQ6IGNvbnRhY3QuaWR9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3Igc3RvcmluZyB0aGUgXFwnaW50cmFzaFxcJyBzdGF0ZSBvZiAnICsgY29udGFjdC5maXJzdF9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLm5ld0NvbnRhY3REYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiB2bS5maXJzdE5hbWVJbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogdm0ubGFzdE5hbWVJbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbElucHV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHZtLnBob25lSW5wdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0czogdm0uYmVsb25nc1RvTGlzdElkc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5yZXNldEZvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5maXJzdE5hbWVJbnB1dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdm0ubGFzdE5hbWVJbnB1dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdm0uZW1haWxJbnB1dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdm0ucGhvbmVJbnB1dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdm0ubGlzdHNGb3JOZXdDb250YWN0ID0gW107XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqICBDb250YWN0IExpc3QgTWV0aG9kc1xyXG4gICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnZ2V0LWNvbnRhY3QtbGlzdHMnKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS5jb250YWN0TGlzdHMgPSByZXMuZGF0YTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciByZXRyaWV2aW5nIENvbnRhY3QgTGlzdHMnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbn0oKSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDMvMTYvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyBUT0RPOiBwcm9iYWJseSBtb3ZlIHNvbWUgZnVuY3Rpb25zIGZyb20gQ29udGFjdHNDb250cm9sbGVyIHRvIGhlcmUuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29udGFjdHNBcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdDb250YWN0c1NlcnZpY2UnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2bS5jb250YWN0cyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZtLmdldENvbnRhY3RzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2dldC1jb250YWN0cycpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZtLnNhdmUgPSBmdW5jdGlvbiAoY29udGFjdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdzYXZlLWNvbnRhY3QnLCBjb250YWN0KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdm0uZGVsZXRlID0gZnVuY3Rpb24gKGNvbnRhY3RzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnZGVsZXRlLWNvbnRhY3RzJywge30pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrIChyZXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3IgZGVsZXRpbmcgdGhlIHNlbGVjdGVkIGNvbnRhY3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbn0oKSk7XHJcbiIsIlxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29udGFjdHNBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdUcmFzaE1vZGFsQ29udHJvbGxlcicsIGZ1bmN0aW9uIChDb250YWN0c1NlcnZpY2UsICRodHRwKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdm0uZGVsZXRlQ29udGFjdHM9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWxldGUgc2VsZWN0ZWQgY2FsbGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25uZWN0IHdpdGggbHVtZW4gaWYgdGhlcmUgYXJlIGNvbnRhY3RzIHRvIGRlbGV0ZS5cclxuICAgICAgICAgICAgICAgIGlmIChDb250YWN0c1NlcnZpY2UuY29udGFjdHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBDb250YWN0c1NlcnZpY2UuZGVsZXRlKENvbnRhY3RzU2VydmljZS5jb250YWN0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB2aWV3IHRvIHJlbW92ZSBkZWxldGVkIGNvbnRhY3RzLlxyXG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChDb250YWN0c1NlcnZpY2UuY29udGFjdHMsIGZ1bmN0aW9uIChjb250YWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LmludHJhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QuZGVsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0LmludHJhc2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcbn0oKSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDMvMTQvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29udGFjdHNBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDb250YWN0TGlzdHNDb250cm9sbGVyJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG59KCkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
